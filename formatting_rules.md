# Правила форматирования для конвертации DOCX в Markdown

Анализ файлов samples/ выявил следующие паттерны и правила форматирования:

## 1. Структура файлов

### Frontmatter
Каждый файл должен начинаться с YAML frontmatter:
```yaml
---
title: Название главы/раздела
nextRead:         # (опционально)
  to: /путь/к/следующей/странице
  label: Название следующей страницы
---
```

### Основной заголовок
После frontmatter идет заголовок первого уровня, совпадающий с title:
```markdown
# Название главы
```

## 2. Заголовки

### Система нумерации
- H1 (`#`) - основной заголовок главы без номера
- H2 (`##`) - разделы с нумерацией типа "1.1", "2.1", "3.1"
- Формат: `## X.Y Название раздела`

### Примеры:
- `# Общие сведения`
- `## 1.1 Функциональное назначение` 
- `## 2.2 Состав плагинов`

## 3. Специальные блоки

### AppAnnotation блок
Используется для важной информации/аннотаций и визуально выделяется цветным фоном:
```markdown
::AppAnnotation
Текст аннотации может быть многострочным.
Описывает ключевые моменты раздела.
::
```

### Фоновое выделение
- Других видов фонового выделения в образцах не обнаружено;
- Примечания отображаются через `blockquote`, что также создаёт серый фон у текста.

## 4. Списки

### Маркированные списки
- Используется символ `-` (дефис) с пробелом
- Поддерживается многоуровневая вложенность
- Длинные элементы списка могут переноситься на несколько строк

Примеры:
```markdown
- обеспечение разработчиков каталогом документации;
- предоставление примеров фрагментов кода;
- ускорение процессов разработки.
```

### Описательные списки компонентов
Для технических компонентов используется формат:
```markdown
- `Компонент` — описание компонента;
- `Другой компонент` — его описание.
```

## 5. Таблицы

### Стандартные таблицы
```markdown
| Заголовок 1 | Заголовок 2 | Заголовок 3 |
| ----------- | ----------- | ----------- |
| Данные      | Данные      | Данные      |
```

### Таблицы с выравниванием
```markdown
| Левый        | Центр  | Правый |
| :----------- | :----: | -----: |
| Левое        | Центр  | Правое |
```

### Переносы в ячейках
Для переносов строк в ячейках используется `<br>`:
```markdown
| Колонка |
| ------- |
| Строка 1<br>Строка 2<br>Строка 3 |
```

### Группировка строк и пустые ячейки
Для имитации объединённых ячеек используются отдельные строки с заполненной первой колонкой и пустыми остальными:
```markdown
| Браузер       | ОС           | Процессор |
| ------------- | ------------ | --------- |
| Google Chrome |              |           |
| Windows       | Windows 10   | Intel Pentium 4 |
| Linux         | Debian 10    | Intel Pentium 4 |
| Yandex Browser|              |           |
| Windows       | Windows 7    | Intel Pentium 4 |
```

### Подписи к таблицам
После каждой таблицы идет подпись в формате blockquote:
```markdown
> Таблица X – Описание таблицы
```

## 6. Примечания и цитаты

### Примечания
```markdown
> _Примечание_ – Текст примечания.
> Может быть многострочным.
```

### Обычные blockquote
```markdown
> Обычная цитата без специального форматирования
```

## 7. Inline форматирование

### Код
- Используются обратные кавычки для `кода`
- Технические термины и названия ПО: `Winter CMS`, `PostgreSQL`, `Docker`
- Стандарты и языки: `HTML5`, `CSS3`, `JavaScript`
- Многострочных блоков кода в образцах нет

### Акценты
- Курсив для терминов: _Примечание_
- Жирный для важных понятий (редко используется в образцах)

## 8. Ссылки

### Внутренние ссылки
```markdown
[разделе 7](/developer/administrator/winter-cms)
```

## 9. Абзацы и разделение

### Интервалы
- Пустая строка между абзацами
- Пустая строка после заголовков
- Пустая строка после списков
- Пустая строка после таблиц и их подписей

### Длинные абзацы
Абзацы могут быть довольно длинными и содержать несколько предложений без принудительных переносов.

## 10. Обработка изображений

Согласно requirements должны обрабатываться в формате:
```
::sign-image
src: <src>
sign: <sign>
::
```

## 11. Нумерация разделов

### Схема нумерации:
- Глава 1: разделы 1.1, 1.2, 1.3, 1.4
- Глава 2: разделы 2.1, 2.2, 2.3, ..., 2.9
- Глава 3: разделы 3.1, 3.2, 3.3

### В заголовках:
- Номер главы отсутствует в H1
- Номер раздела присутствует в H2
- Подразделы (если есть) будут H3 с тройной нумерацией (например, 3.1.1)

## 12. Консистентность стиля

### Технические термины
- Названия ПО всегда в обратных кавычках
- Аббревиатуры без кавычек: HTML5, CSS3, JavaScript
- Названия стандартов: ISO/IEC 9075:2011

### Пунктуация
- Списки заканчиваются точкой с запятой, последний элемент - точкой
- Описания в списках компонентов заканчиваются точкой с запятой
- В таблицах точки обычно не ставятся

### Языковые особенности
- Документы на русском языке
- Соблюдается официально-деловой стиль
- Используется техническая терминология
