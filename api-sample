"""Example usage of the OpenRouter API with the OpenAI client."""

from __future__ import annotations

import os

from openai import OpenAI

api_key = os.getenv("OPENROUTER_API_KEY")
if not api_key:
    raise RuntimeError("Set OPENROUTER_API_KEY environment variable")

client = OpenAI(base_url="https://openrouter.ai/api/v1", api_key=api_key)

completion = client.chat.completions.create(
    model="qwen/qwen3-4b:free",
    messages=[{"role": "user", "content": "What is the meaning of life?"}],
    extra_headers={
        "HTTP-Referer": "https://example.com",  # Optional
        "X-Title": "Example Site",  # Optional
    },
    extra_body={},
)

print(completion.choices[0].message.content)
